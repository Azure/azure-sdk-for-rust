// Copyright (c) Microsoft Corporation. All rights reserved.
//
// Licensed under the MIT License. See License.txt in the project root for license information.
// Code generated by Microsoft (R) Rust Code Generator. DO NOT EDIT.

use azure_core::{Result, base64::{deserialize, serialize, }, fmt::SafeDebug, http::{RequestContent, XmlFormat, }, xml::to_xml, };
use serde::{Deserialize, Serialize, };

/// Key information
#[derive(Clone, Default, Deserialize, SafeDebug, Serialize)]
pub(crate) struct KeyInfo {
/// The date-time the key expires.
    #[serde(rename = "Expiry")]
    pub(crate) expiry: String,

/// The date-time the key is active.
    #[serde(rename = "Start")]
    pub(crate) start: String,

}

/// A user delegation key.
#[derive(Clone, Default, Deserialize, SafeDebug, Serialize)]
#[non_exhaustive]
pub(crate) struct UserDelegationKey {
/// The date-time the key expires.
    #[serde(rename = "SignedExpiry")]
    pub(crate) signed_expiry: String,

/// The Azure Active Directory object ID in GUID format.
    #[serde(rename = "SignedOid")]
    pub(crate) signed_oid: String,

/// Abbreviation of the Azure Storage service that accepts the key.
    #[serde(rename = "SignedService")]
    pub(crate) signed_service: String,

/// The date-time the key is active.
    #[serde(rename = "SignedStart")]
    pub(crate) signed_start: String,

/// The Azure Active Directory tenant ID in GUID format.
    #[serde(rename = "SignedTid")]
    pub(crate) signed_tid: String,

/// The service version that created the key.
    #[serde(rename = "SignedVersion")]
    pub(crate) signed_version: String,

/// The key as a base64 string.
    #[serde(default, deserialize_with = "deserialize", rename = "Value", serialize_with = "serialize")]
    pub(crate) value: Vec<u8>,

}

impl TryFrom<KeyInfo> for RequestContent<KeyInfo, XmlFormat> {
    type Error = azure_core::Error;
    fn try_from(value: KeyInfo) -> Result<Self> {
        Ok(to_xml(&value)?.into())
    }
}

undefined