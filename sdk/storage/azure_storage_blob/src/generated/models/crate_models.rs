// Copyright (c) Microsoft Corporation. All rights reserved.
//
// Licensed under the MIT License. See License.txt in the project root for license information.
// Code generated by Microsoft (R) Rust Code Generator. DO NOT EDIT.

use super::{
    xml_helpers::CorsCorsRule, CorsRule, Logging, Metrics, RetentionPolicy, StaticWebsite,
};
use azure_core::{fmt::SafeDebug, http::RequestContent, xml::to_xml, Result};
use serde::{Deserialize, Serialize};

#[derive(Clone, Default, Deserialize, SafeDebug, Serialize, azure_core::http::Model)]
#[typespec(format = "xml")]
pub(crate) struct GetUserDelegationKeyRequest {
    /// The date-time the key expires.
    #[serde(rename = "Expiry")]
    pub(crate) expiry: String,

    /// The date-time the key is active.
    #[serde(rename = "Start")]
    pub(crate) start: String,
}

#[derive(Clone, Default, Deserialize, SafeDebug, Serialize, azure_core::http::Model)]
#[typespec(format = "xml")]
pub(crate) struct SetPropertiesRequest {
    /// The CORS properties.
    #[serde(
        default,
        deserialize_with = "CorsCorsRule::unwrap",
        rename = "Cors",
        serialize_with = "CorsCorsRule::wrap",
        skip_serializing_if = "Option::is_none"
    )]
    pub(crate) cors: Option<Vec<CorsRule>>,

    /// The default service version.
    #[serde(
        rename = "DefaultServiceVersion",
        skip_serializing_if = "Option::is_none"
    )]
    pub(crate) default_service_version: Option<String>,

    /// The delete retention policy.
    #[serde(
        rename = "DeleteRetentionPolicy",
        skip_serializing_if = "Option::is_none"
    )]
    pub(crate) delete_retention_policy: Option<RetentionPolicy>,

    /// The hour metrics properties.
    #[serde(rename = "HourMetrics", skip_serializing_if = "Option::is_none")]
    pub(crate) hour_metrics: Option<Metrics>,

    /// The logging properties.
    #[serde(rename = "Logging", skip_serializing_if = "Option::is_none")]
    pub(crate) logging: Option<Logging>,

    /// The minute metrics properties.
    #[serde(rename = "MinuteMetrics", skip_serializing_if = "Option::is_none")]
    pub(crate) minute_metrics: Option<Metrics>,

    /// The static website properties.
    #[serde(rename = "StaticWebsite", skip_serializing_if = "Option::is_none")]
    pub(crate) static_website: Option<StaticWebsite>,
}

impl TryFrom<GetUserDelegationKeyRequest> for RequestContent<GetUserDelegationKeyRequest> {
    type Error = azure_core::Error;
    fn try_from(value: GetUserDelegationKeyRequest) -> Result<Self> {
        RequestContent::try_from(to_xml(&value)?)
    }
}

impl TryFrom<SetPropertiesRequest> for RequestContent<SetPropertiesRequest> {
    type Error = azure_core::Error;
    fn try_from(value: SetPropertiesRequest) -> Result<Self> {
        RequestContent::try_from(to_xml(&value)?)
    }
}
